<main class="mat-typography">
  <app-deactivate-need
    [pageState]="this.pageState"
    [handleConfirmedDeactivation]="this.deactivatePlayerNeed.bind(this)"
    dialogText="Už nebudeš dostávať informácie o tímoch, ktoré hľadajú hráča."
  ></app-deactivate-need>
  <app-congratulations 
    [navigatedFromAddition]="navigatedFromAddition" 
    text="Gratulujem, v tomto momente sme pre Teba začali hľadať tím."></app-congratulations>
  <app-need-summary 
    [pageState]="this.pageState" 
    [getItems]="getSummaryItems.bind(this)" 
    title="Hľadanie tímu"></app-need-summary>
  <mat-card
    class="marketing"
    *ngIf="
      (this.pageState == DetailPageState.EXISTS_NOT_ACTIVE ||
        this.pageState == DetailPageState.EXISTS_ACTIVE) &&
      playerNeed
    "
  >
    <mat-card-header
      ><mat-card-title>Marketing</mat-card-title>
    </mat-card-header>
    <mat-card-content *ngIf="playerNeed.isMarketingConsentGranted">
      <p>
        Máš aktivovaný odber marketingových emailov.
        <button mat-button color="primary" (click)="revokeMarketingConsent()">
          Zrušiť.
        </button>
      </p>
    </mat-card-content>
    <mat-card-content *ngIf="!playerNeed.isMarketingConsentGranted">
      <p>
        Nemáš aktivovaný odber marketingových emailov.
        <button mat-button color="primary" (click)="grantMarketingConsent()">
          Aktivovať.
        </button>
      </p>
    </mat-card-content>
  </mat-card>
</main>
